<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Repository Leaderboard | Portfolio Showcase</title>
    
    <!-- Meta tags for better SEO and sharing -->
    <meta name="description" content="Discover trending AI, Machine Learning, RAG, and Agent projects on GitHub. Built with Python and AI-powered analytics.">
    <meta name="keywords" content="AI, Machine Learning, GitHub, Python, RAG, Agents, Portfolio, Data Science">
    <meta name="author" content="Prashant">
    
    <!-- Open Graph tags for social sharing -->
    <meta property="og:title" content="AI Repository Leaderboard | Portfolio Showcase">
    <meta property="og:description" content="Interactive dashboard showcasing trending AI/ML projects with real GitHub data">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://Dark-Matter98.github.io/ai-leaderboard">
    
    <!-- CSS Dependencies -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Chart Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --warning-gradient: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            --dark-bg: #0d1117;
            --card-bg: #161b22;
            --border-color: #30363d;
            --text-primary: #f0f6fc;
            --text-secondary: #8b949e;
        }

        * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            min-height: 100vh;
            color: var(--text-primary);
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 50px;
            padding: 10px 20px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.05);
        }

        .hero-section {
            background: rgba(0,0,0,0.3);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 40px 30px;
            margin: 20px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero-title {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #fff, #f0f6fc, #64b5f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            margin-bottom: 30px;
        }

        .github-link {
            display: inline-block;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 25px;
            padding: 12px 24px;
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
            margin: 10px;
        }

        .github-link:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
            color: white;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: rgba(0,0,0,0.4);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.5s;
        }

        .stat-card:hover::before {
            left: 100%;
        }

        .stat-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .stat-number {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 10px;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            font-size: 1rem;
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .nav-tabs {
            background: rgba(0,0,0,0.3);
            backdrop-filter: blur(15px);
            border-radius: 15px;
            padding: 10px;
            border: 1px solid rgba(255,255,255,0.1);
            margin: 30px 0;
        }

        .nav-tabs .nav-link {
            border: none;
            color: var(--text-secondary);
            background: transparent;
            border-radius: 10px;
            margin: 0 5px;
            padding: 15px 25px;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-tabs .nav-link.active {
            background: var(--primary-gradient);
            color: white;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .nav-tabs .nav-link:hover {
            color: white;
            transform: translateY(-2px);
        }

        .repo-card {
            background: rgba(0,0,0,0.4);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            transition: all 0.3s ease;
            overflow: hidden;
            margin-bottom: 25px;
            position: relative;
        }

        .repo-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary-gradient);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .repo-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.3);
            border-color: rgba(255,255,255,0.2);
        }

        .repo-card:hover::before {
            opacity: 1;
        }

        .repo-rank {
            position: absolute;
            top: -10px;
            left: 20px;
            background: var(--primary-gradient);
            color: white;
            border-radius: 20px;
            padding: 5px 15px;
            font-weight: 600;
            font-size: 0.9rem;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .repo-title {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 10px;
            margin-top: 20px;
        }

        .repo-title a {
            color: var(--text-primary);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .repo-title a:hover {
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .repo-description {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 20px;
            font-size: 0.95rem;
        }

        .repo-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
            padding: 20px 0;
            border-top: 1px solid rgba(255,255,255,0.1);
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .stat-label-small {
            font-size: 0.8rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .topic-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 15px;
        }

        .topic-tag {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: var(--text-primary);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            transition: all 0.3s ease;
        }

        .topic-tag:hover {
            background: var(--primary-gradient);
            transform: scale(1.05);
        }

        .language-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--secondary-gradient);
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .chart-container {
            background: rgba(0,0,0,0.4);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            min-height: 400px;
        }

        .chart-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 20px;
            text-align: center;
        }

        .search-container {
            position: relative;
            margin: 30px 0;
        }

        .search-input {
            width: 100%;
            padding: 15px 20px 15px 50px;
            background: rgba(0,0,0,0.4);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 25px;
            color: var(--text-primary);
            font-size: 1rem;
        }

        .search-input::placeholder {
            color: var(--text-secondary);
        }

        .search-icon {
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
        }

        .filter-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }

        .filter-btn {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: var(--text-primary);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: var(--primary-gradient);
            border-color: transparent;
            transform: scale(1.05);
        }

        .footer {
            background: rgba(0,0,0,0.5);
            backdrop-filter: blur(15px);
            padding: 40px 0;
            margin-top: 50px;
            text-align: center;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .footer-text {
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .social-link {
            color: var(--text-secondary);
            font-size: 1.5rem;
            transition: all 0.3s ease;
        }

        .social-link:hover {
            color: #64b5f6;
            transform: scale(1.2);
        }

        .loading-spinner {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: #64b5f6;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Light theme styles */
        body.light-theme {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
        }

        body.light-theme .hero-section,
        body.light-theme .stat-card,
        body.light-theme .nav-tabs,
        body.light-theme .repo-card,
        body.light-theme .chart-container {
            background: rgba(255,255,255,0.8);
            color: #333;
            border-color: rgba(0,0,0,0.1);
        }

        body.light-theme .hero-title {
            background: linear-gradient(45deg, #333, #666, #999);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .nav-tabs .nav-link {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
        }

        @media (max-width: 480px) {
            .hero-title {
                font-size: 2rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Theme Toggle -->
    <div class="theme-toggle" onclick="toggleTheme()">
        <i class="fas fa-moon" id="theme-icon"></i>
        <span id="theme-text">Dark</span>
    </div>

    <div class="container-fluid px-4">
        <!-- Hero Section -->
        <div class="hero-section">
            <div class="hero-content">
                <h1 class="hero-title">
                    <i class="fas fa-brain"></i>
                    AI Repository Leaderboard
                </h1>
                <p class="hero-subtitle">
                    Discover trending AI, Machine Learning, RAG, and Agent projects on GitHub
                </p>
                <p class="text-muted">
                    <i class="fas fa-code"></i> Built with Python, RAG, and AI-powered analytics
                    <span class="mx-3">•</span>
                    <i class="fas fa-clock"></i> Updated <span id="last-updated">daily</span>
                </p>
                
                <!-- GitHub Links -->
                <div class="mt-4">
                    <a href="https://github.com/Dark-Matter98/ai-leaderboard" class="github-link" target="_blank">
                        <i class="fab fa-github"></i> View Source Code
                    </a>
                    <a href="https://github.com/Dark-Matter98" class="github-link" target="_blank">
                        <i class="fas fa-user"></i> My GitHub Profile
                    </a>
                </div>
            </div>
        </div>

        <!-- Statistics Grid -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number" id="total-repos">31</div>
                <div class="stat-label">
                    <i class="fas fa-database"></i>
                    Total Repositories
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="trending-count">1</div>
                <div class="stat-label">
                    <i class="fas fa-fire"></i>
                    Trending Projects
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="established-count">30</div>
                <div class="stat-label">
                    <i class="fas fa-crown"></i>
                    Established Projects
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="hidden-gems-count">0</div>
                <div class="stat-label">
                    <i class="fas fa-gem"></i>
                    Hidden Gems
                </div>
            </div>
        </div>

        <!-- Search and Filters -->
        <div class="search-container">
            <i class="fas fa-search search-icon"></i>
            <input type="text" class="search-input" id="search-input" placeholder="Search repositories by Prashant, description, or topics...">
        </div>

        <div class="filter-buttons">
            <div class="filter-btn active" data-language="all">
                <i class="fas fa-globe"></i> All Languages
            </div>
            <div class="filter-btn" data-language="Python">
                <i class="fab fa-python"></i> Python
            </div>
            <div class="filter-btn" data-language="JavaScript">
                <i class="fab fa-js"></i> JavaScript
            </div>
            <div class="filter-btn" data-language="TypeScript">
                <i class="fab fa-js"></i> TypeScript
            </div>
            <div class="filter-btn" data-language="Go">
                <i class="fab fa-golang"></i> Go
            </div>
            <div class="filter-btn" data-language="C++">
                <i class="fas fa-code"></i> C++
            </div>
        </div>

        <!-- Navigation Tabs -->
        <ul class="nav nav-tabs justify-content-center" id="leaderboardTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="trending-tab" data-bs-toggle="tab" data-bs-target="#trending" type="button">
                    <i class="fas fa-fire"></i> Trending
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="established-tab" data-bs-toggle="tab" data-bs-target="#established" type="button">
                    <i class="fas fa-crown"></i> Established
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="hidden-gems-tab" data-bs-toggle="tab" data-bs-target="#hidden-gems" type="button">
                    <i class="fas fa-gem"></i> Hidden Gems
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="analytics-tab" data-bs-toggle="tab" data-bs-target="#analytics" type="button">
                    <i class="fas fa-chart-line"></i> Analytics
                </button>
            </li>
        </ul>

        <!-- Tab Content -->
        <div class="tab-content" id="leaderboardTabsContent">
            <!-- Trending Tab -->
            <div class="tab-pane fade show active" id="trending" role="tabpanel">
                <div id="trending-repos" class="row">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>

            <!-- Established Tab -->
            <div class="tab-pane fade" id="established" role="tabpanel">
                <div id="established-repos" class="row">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>

            <!-- Hidden Gems Tab -->
            <div class="tab-pane fade" id="hidden-gems" role="tabpanel">
                <div id="hidden-gems-repos" class="row">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>

            <!-- Analytics Tab -->
            <div class="tab-pane fade" id="analytics" role="tabpanel">
                <div class="row">
                    <div class="col-lg-6 mb-4">
                        <div class="chart-container">
                            <h3 class="chart-title">
                                <i class="fas fa-language"></i>
                                Programming Languages
                            </h3>
                            <canvas id="languageChart"></canvas>
                        </div>
                    </div>
                    <div class="col-lg-6 mb-4">
                        <div class="chart-container">
                            <h3 class="chart-title">
                                <i class="fas fa-star"></i>
                                Stars Distribution
                            </h3>
                            <canvas id="starsChart"></canvas>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 mb-4">
                        <div class="chart-container">
                            <h3 class="chart-title">
                                <i class="fas fa-tags"></i>
                                Popular Topics
                            </h3>
                            <canvas id="topicsChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="footer-text">
                <p>
                    <i class="fas fa-code"></i> 
                    Built with passion for AI & Machine Learning | 
                    <i class="fas fa-heart text-danger"></i>
                    Open Source
                </p>
                <p class="small">
                    Showcasing skills in Python, RAG, Agent Development, and AI-powered analytics
                </p>
            </div>
            <div class="social-links">
                <a href="https://github.com/Dark-Matter98" class="social-link" title="GitHub">
                    <i class="fab fa-github"></i>
                </a>
                <a href="https://linkedin.com/in/Dark-Matter98" class="social-link" title="LinkedIn">
                    <i class="fab fa-linkedin"></i>
                </a>
                <a href="https://twitter.com/Dark-Matter98" class="social-link" title="Twitter">
                    <i class="fab fa-twitter"></i>
                </a>
            </div>
        </div>
    </div>

    <!-- JS Dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Sample data for GitHub Pages (replace with your actual data or load from JSON)
        const portfolioData = {
            "trending": {
                "repositories": [
                    {
                        "rank": 1,
                        "name": "owl",
                        "full_name": "camel-ai/owl",
                        "description": "🦉 OWL: Optimized Workforce Learning for General Multi-Agent Assistance in Real-World Task Automation",
                        "html_url": "https://github.com/camel-ai/owl",
                        "stargazers_count": 17750,
                        "forks_count": 2060,
                        "language": "Python",
                        "topics": ["agent", "artificial-intelligence", "multi-agent-systems", "task-automation", "web-interaction"],
                        "updated_at": "2025-08-06T00:49:34+00:00",
                        "simple_score": 13526.16,
                        "change_from_previous": null
                    }
                ]
            },
            "established": {
                "repositories": [
                    {
                        "rank": 1,
                        "name": "tensorflow",
                        "full_name": "tensorflow/tensorflow",
                        "description": "An Open Source Machine Learning Framework for Everyone",
                        "html_url": "https://github.com/tensorflow/tensorflow",
                        "stargazers_count": 191065,
                        "forks_count": 74759,
                        "language": "C++",
                        "topics": ["deep-learning", "deep-neural-networks", "distributed", "machine-learning", "ml", "neural-network", "python", "tensorflow"],
                        "updated_at": "2025-08-06T01:46:18+00:00",
                        "simple_score": 164492.04,
                        "change_from_previous": null
                    },
                    {
                        "rank": 2,
                        "name": "AutoGPT",
                        "full_name": "Significant-Gravitas/AutoGPT",
                        "description": "AutoGPT is the vision of accessible AI for everyone, to use and to build on. Our mission is to provide the tools, so that you can focus on what matters.",
                        "html_url": "https://github.com/Significant-Gravitas/AutoGPT",
                        "stargazers_count": 177520,
                        "forks_count": 45916,
                        "language": "Python",
                        "topics": ["ai", "artificial-intelligence", "autonomous-agents", "gpt-4", "llama-api", "openai", "python"],
                        "updated_at": "2025-08-06T01:53:34+00:00",
                        "simple_score": 144356.16,
                        "change_from_previous": null
                    }
                ]
            },
            "hidden_gems": {
                "repositories": []
            },
            "summary": {
                "total_repositories": 31,
                "categories": {
                    "trending": 1,
                    "established": 30,
                    "hidden_gems": 0
                },
                "top_languages": {
                    "Python": 19,
                    "C++": 3,
                    "Jupyter Notebook": 2,
                    "Go": 1,
                    "TypeScript": 1,
                    "JavaScript": 1,
                    "HTML": 1,
                    "C": 1
                },
                "generated_at": "2025-08-06T02:17:18.286132+00:00"
            }
        };

        // Global variables
        let allRepositories = {
            trending: [],
            established: [],
            hidden_gems: []
        };
        let filteredRepositories = {...allRepositories};

        // Theme management
        function toggleTheme() {
            const body = document.body;
            const themeIcon = document.getElementById('theme-icon');
            const themeText = document.getElementById('theme-text');
            
            body.classList.toggle('light-theme');
            
            if (body.classList.contains('light-theme')) {
                themeIcon.className = 'fas fa-sun';
                themeText.textContent = 'Light';
                localStorage.setItem('theme', 'light');
            } else {
                themeIcon.className = 'fas fa-moon';
                themeText.textContent = 'Dark';
                localStorage.setItem('theme', 'dark');
            }
        }

        // Load saved theme
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'light') {
                document.body.classList.add('light-theme');
                document.getElementById('theme-icon').className = 'fas fa-sun';
                document.getElementById('theme-text').textContent = 'Light';
            }
        }

        // Load data from embedded JSON
        async function loadData() {
            try {
                const data = portfolioData;
                
                // Store repository data
                allRepositories = {
                    trending: data.trending?.repositories || [],
                    established: data.established?.repositories || [],
                    hidden_gems: data.hidden_gems?.repositories || []
                };

                filteredRepositories = {...allRepositories};

                // Render repositories
                renderRepositories('trending', allRepositories.trending);
                renderRepositories('established', allRepositories.established);
                renderRepositories('hidden_gems', allRepositories.hidden_gems);

                // Create charts
                if (data.summary) {
                    createCharts(data.summary);
                }

                // Update last updated time
                if (data.summary?.generated_at) {
                    const date = new Date(data.summary.generated_at);
                    document.getElementById('last-updated').textContent = date.toLocaleDateString();
                }

            } catch (error) {
                console.error('Error loading data:', error);
                showError('Failed to load data.');
            }
        }

        // Render repository cards
        function renderRepositories(category, repositories) {
            const container = document.getElementById(`${category.replace('_', '-')}-repos`);
            
            if (!repositories || repositories.length === 0) {
                container.innerHTML = `
                    <div class="col-12 text-center py-5">
                        <i class="fas fa-search fa-3x text-muted mb-3"></i>
                        <p>No repositories found in this category.</p>
                    </div>
                `;
                return;
            }

            const cards = repositories.map(repo => createRepoCard(repo, category)).join('');
            container.innerHTML = cards;
        }

        // Create individual repository card
        function createRepoCard(repo, category) {
            const topics = repo.topics ? repo.topics.slice(0, 5).map(topic => 
                `<span class="topic-tag">${topic}</span>`
            ).join('') : '';

            const changeIndicator = repo.change_from_previous !== null ? 
                (repo.change_from_previous > 0 ? 
                    `<i class="fas fa-arrow-up text-success"></i> +${repo.change_from_previous}` :
                    repo.change_from_previous < 0 ? 
                    `<i class="fas fa-arrow-down text-danger"></i> ${repo.change_from_previous}` : 
                    '<i class="fas fa-minus text-muted"></i> 0') :
                '<i class="fas fa-plus text-info"></i> NEW';

            return `
                <div class="col-lg-6 col-xl-4 mb-4 repo-item" data-language="${repo.language || ''}" data-topics="${repo.topics ? repo.topics.join(' ') : ''}" data-name="${repo.name}" data-description="${repo.description || ''}">
                    <div class="repo-card h-100">
                        <div class="repo-rank">#${repo.rank}</div>
                        <div class="language-badge">${repo.language || 'Unknown'}</div>
                        
                        <div class="p-4">
                            <h3 class="repo-title">
                                <a href="${repo.html_url}" target="_blank">
                                    <i class="fab fa-github"></i> ${repo.name}
                                </a>
                            </h3>
                            
                            <p class="repo-description">
                                ${repo.description || 'No description available.'}
                            </p>
                            
                            <div class="repo-stats">
                                <div class="stat-item">
                                    <div class="stat-value">
                                        <i class="fas fa-star text-warning"></i>
                                        ${formatNumber(repo.stargazers_count)}
                                    </div>
                                    <div class="stat-label-small">Stars</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-value">
                                        <i class="fas fa-code-branch text-info"></i>
                                        ${formatNumber(repo.forks_count)}
                                    </div>
                                    <div class="stat-label-small">Forks</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-value">
                                        <i class="fas fa-users text-success"></i>
                                        ${formatNumber(repo.contributors_count || 0)}
                                    </div>
                                    <div class="stat-label-small">Contributors</div>
                                </div>
                            </div>
                            
                            ${topics ? `<div class="topic-tags">${topics}</div>` : ''}
                            
                            <div class="d-flex justify-content-between align-items-center mt-3">
                                <small class="text-muted">
                                    <i class="fas fa-clock"></i>
                                    Updated ${new Date(repo.updated_at).toLocaleDateString()}
                                </small>
                                <div class="text-end">
                                    <small class="text-muted">
                                        Score: ${repo.simple_score ? repo.simple_score.toFixed(1) : repo.final_score?.toFixed(1) || 'N/A'}
                                    </small>
                                    <br>
                                    <small>${changeIndicator}</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Format large numbers
        function formatNumber(num) {
            if (num >= 1000000) {
                return (num / 1000000).toFixed(1) + 'M';
            } else if (num >= 1000) {
                return (num / 1000).toFixed(1) + 'K';
            }
            return num?.toString() || '0';
        }

        // Create charts
        function createCharts(summary) {
            // Language Chart
            if (summary.top_languages) {
                const languageCtx = document.getElementById('languageChart').getContext('2d');
                new Chart(languageCtx, {
                    type: 'doughnut',
                    data: {
                        labels: Object.keys(summary.top_languages),
                        datasets: [{
                            data: Object.values(summary.top_languages),
                            backgroundColor: [
                                '#667eea', '#764ba2', '#f093fb', '#f5576c',
                                '#4facfe', '#00f2fe', '#43e97b', '#38f9d7',
                                '#fa709a', '#fee140'
                            ],
                            borderWidth: 2,
                            borderColor: 'rgba(255,255,255,0.1)'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: { color: '#f0f6fc' }
                            }
                        }
                    }
                });
            }

            // Stars Distribution Chart
            const allRepos = [
                ...allRepositories.trending,
                ...allRepositories.established,
                ...allRepositories.hidden_gems
            ];
            
            const starsData = [0, 0, 0, 0, 0]; // [1-100, 101-1K, 1K-10K, 10K-50K, 50K+]
            allRepos.forEach(repo => {
                const stars = repo.stargazers_count;
                if (stars <= 100) starsData[0]++;
                else if (stars <= 1000) starsData[1]++;
                else if (stars <= 10000) starsData[2]++;
                else if (stars <= 50000) starsData[3]++;
                else starsData[4]++;
            });

            const starsCtx = document.getElementById('starsChart').getContext('2d');
            new Chart(starsCtx, {
                type: 'bar',
                data: {
                    labels: ['1-100', '101-1K', '1K-10K', '10K-50K', '50K+'],
                    datasets: [{
                        label: 'Repositories',
                        data: starsData,
                        backgroundColor: 'rgba(102, 126, 234, 0.7)',
                        borderColor: 'rgba(102, 126, 234, 1)',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { labels: { color: '#f0f6fc' } }
                    },
                    scales: {
                        y: {
                            ticks: { color: '#f0f6fc' },
                            grid: { color: 'rgba(255,255,255,0.1)' }
                        },
                        x: {
                            ticks: { color: '#f0f6fc' },
                            grid: { color: 'rgba(255,255,255,0.1)' }
                        }
                    }
                }
            });

            // Topics Chart
            const topicCount = {};
            allRepos.forEach(repo => {
                repo.topics?.forEach(topic => {
                    topicCount[topic] = (topicCount[topic] || 0) + 1;
                });
            });
            
            const sortedTopics = Object.entries(topicCount)
                .sort(([,a], [,b]) => b - a)
                .slice(0, 10);

            if (sortedTopics.length > 0) {
                const topicsCtx = document.getElementById('topicsChart').getContext('2d');
                new Chart(topicsCtx, {
                    type: 'bar',
                    data: {
                        labels: sortedTopics.map(([topic]) => topic),
                        datasets: [{
                            label: 'Repositories',
                            data: sortedTopics.map(([, count]) => count),
                            backgroundColor: 'rgba(240, 147, 251, 0.7)',
                            borderColor: 'rgba(240, 147, 251, 1)',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { labels: { color: '#f0f6fc' } }
                        },
                        scales: {
                            y: {
                                ticks: { color: '#f0f6fc' },
                                grid: { color: 'rgba(255,255,255,0.1)' }
                            },
                            x: {
                                ticks: { color: '#f0f6fc' },
                                grid: { color: 'rgba(255,255,255,0.1)' }
                            }
                        }
                    }
                });
            }
        }

        // Search functionality
        function setupSearch() {
            const searchInput = document.getElementById('search-input');
            searchInput.addEventListener('input', (e) => {
                const query = e.target.value.toLowerCase();
                filterRepositories(query, getActiveLanguageFilter());
            });
        }

        // Language filter functionality
        function setupFilters() {
            const filterButtons = document.querySelectorAll('.filter-btn');
            filterButtons.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    filterButtons.forEach(b => b.classList.remove('active'));
                    e.target.classList.add('active');
                    
                    const language = e.target.dataset.language;
                    const searchQuery = document.getElementById('search-input').value.toLowerCase();
                    filterRepositories(searchQuery, language);
                });
            });
        }

        // Get active language filter
        function getActiveLanguageFilter() {
            const activeFilter = document.querySelector('.filter-btn.active');
            return activeFilter ? activeFilter.dataset.language : 'all';
        }

        // Filter repositories
        function filterRepositories(searchQuery, language) {
            const categories = ['trending', 'established', 'hidden_gems'];
            
            categories.forEach(category => {
                let repos = allRepositories[category] || [];
                
                if (searchQuery) {
                    repos = repos.filter(repo => 
                        repo.name.toLowerCase().includes(searchQuery) ||
                        (repo.description && repo.description.toLowerCase().includes(searchQuery)) ||
                        (repo.topics && repo.topics.some(topic => topic.toLowerCase().includes(searchQuery)))
                    );
                }
                
                if (language && language !== 'all') {
                    repos = repos.filter(repo => repo.language === language);
                }
                
                filteredRepositories[category] = repos;
                renderRepositories(category, repos);
            });
        }

        // Error handling
        function showError(message) {
            const containers = ['trending-repos', 'established-repos', 'hidden-gems-repos'];
            containers.forEach(id => {
                document.getElementById(id).innerHTML = `
                    <div class="col-12 text-center py-5">
                        <i class="fas fa-exclamation-triangle fa-3x text-warning mb-3"></i>
                        <p>${message}</p>
                    </div>
                `;
            });
        }

        // Initialize everything
        document.addEventListener('DOMContentLoaded', function() {
            loadTheme();
            setupSearch();
            setupFilters();
            loadData();
        });
    </script>
</body>
</html>
